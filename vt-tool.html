<link rel="import" href="./vt-model-element.html">
<!-- <script type="text/javascript" src="../underscore/underscore.js"></script> -->

<polymer-element name="vt-tool" extends="vt-model-element" attributes="margin">
  <template>
    <link rel="stylesheet" href="vt-tool.css"/>
    <div id="innerTool" class="innerTool">
      <content id="content"></content>
    </div>
  </template>
  <script>
    Polymer('vt-tool',{
      margin : 6,
      ready : function(){
        this.startRelayout = this.startRelayout.bind(this);
      },
      attached : function(){
        window.addEventListener('resize', this.startRelayout);
      },
      detached : function(){
        window.removeEventListener('resize', this.startRelayout);
      },
      startRelayout : function(){
        console.log('relayouting innerTool');
        var innerTool = this.$.innerTool;

        var totalWidth = this.clientWidth;
        var totalHeight = this.clientHeight;
        var eltWidth = totalWidth - (2*this.margin);
        var eltHeight = totalHeight - (2*this.margin);
        
      
        innerTool.style.left = (this.margin) + 'px';
        innerTool.style.top = (this.margin) + 'px';
        innerTool.style.width = eltWidth+'px';
        innerTool.style.height = eltHeight+'px';
    
      }
    });
  </script>
</polymer-element>